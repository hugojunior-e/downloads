<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATAS de reuni√£o</title>
    <link rel="stylesheet" href="estilos.css">
    <script src="api.js"></script>
    
    <script>
        const sociedade = "CONSELHO";
        
        function populateTable(data) {
            document.getElementById('LINK_ATAS').innerHTML = '';

            items = []

            data['results'].forEach(item => {
                if (item.numero.length > 4) {
                    items.push(item.numero + "@" + item.objectId);
                }
            });
            items.sort();

            items.forEach(item => {
                const det = item.split("@");
                document.getElementById("LINK_ATAS").innerHTML += 
                    "<table><tr><td><input type=image src=edit.png onclick=\"jsAdicionar('" + det[0] + "')\"></td><td><a href=atas_view.html?objectId=" + det[1] + ">" + det[0] + "</a></td></tr></table>";
            });
        }

        function jsAdicionar(nro) {
            window.location.href = 'atas_edit.html?sociedade=' + sociedade + '&nro=' + nro;
        }
    </script>

</head>

<body>
    <div class="container">
    <center>
        <fieldset>
            <legend><input type="button" value="adicionar" onclick="jsAdicionar('-')"> || <span id=SOCIEDADE></span></legend>
            <div class="links" id="LINK_ATAS"></div>
        </fieldset>
    </center>
    </div>


    <script> 
        document.all.SOCIEDADE.innerHTML = sociedde;
        parametros = { sociedade: sociedade };
        apiQueryData( url_atas, populateTable, parametros ); 
    </script>
</body>

</html>
